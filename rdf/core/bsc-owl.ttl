@prefix bsc:   <https://biosyncarelab.github.io/ont#> .
@prefix id:    <https://biosyncarelab.github.io/id/> .
@prefix old:   <https://biosyncare.github.io/ont#> .
@prefix owl:   <http://www.w3.org/2002/07/owl#> .
@prefix rdfs:  <http://www.w3.org/2000/01/rdf-schema#> .
@prefix dct:   <http://purl.org/dc/terms/> .
@prefix xsd:   <http://www.w3.org/2001/XMLSchema#> .
@prefix time:  <http://www.w3.org/2006/time#> .
@prefix schema:<http://schema.org/> .
@prefix dbr:   <http://dbpedia.org/resource/> .

<https://biosyncarelab.github.io/ont/1.0.0> a owl:Ontology ;
  owl:versionIRI <https://biosyncarelab.github.io/ont/1.0.0> ;
  owl:versionInfo "1.0.0" ;
  owl:priorVersion <https://biosyncare.github.io/ont#> ;
  dct:title "BioSynCare Neurosensory Stimulation Ontology (NSO) - Core Module" ;
  dct:alternative "NSO Core"@en ;
  dct:creator "BioSynCare Lab" ;
  dct:contributor "Claude Sonnet 4.5 (AI Assistant)" ;
  dct:description "Core OWL classes and properties for neurosensory stimulation: sessions, protocols, techniques, outcomes, safety metadata, and evidence ratings. This is the authoritative source of truth for BSCLab semantic data, superseding SSO and ONC ontologies." ;
  dct:created "2025-11-05"^^xsd:date ;
  dct:issued "2025-11-18"^^xsd:date ;
  dct:modified "2025-11-18"^^xsd:date ;
  dct:hasVersion "1.0.0" ;
  dct:license <https://creativecommons.org/licenses/by/4.0/> ;
  rdfs:comment "Version 1.0.0: First stable release. Establishes semantic versioning, evidence metadata properties, and safety classification. Status: CURRENT (authoritative)." ;
  owl:imports <http://purl.org/dc/terms/> ,
              <http://www.w3.org/2004/02/skos/core> .

# Core classes
bsc:Project           a owl:Class ; rdfs:label "Project" .
bsc:Protocol          a owl:Class ; rdfs:label "Protocol" .
bsc:Technique         a owl:Class ; rdfs:label "Technique" .
bsc:Session           a owl:Class ; rdfs:label "Session" .
bsc:Outcome           a owl:Class ; rdfs:label "Outcome" .
bsc:Report            a owl:Class ; rdfs:label "Report" .
bsc:ParticipantGroup  a owl:Class ; rdfs:label "Participant Group" .

# Object properties
bsc:usesTechnique     a owl:ObjectProperty ;
  rdfs:label "uses technique" ;
  rdfs:domain bsc:Protocol ; rdfs:range bsc:Technique .

bsc:appliesTechnique  a owl:ObjectProperty ;
  rdfs:label "applies technique" ;
  rdfs:domain bsc:Session ; rdfs:range bsc:Technique .

bsc:hasOutcome        a owl:ObjectProperty ;
  rdfs:label "has outcome" ;
  rdfs:domain bsc:Session ; rdfs:range bsc:Outcome .

bsc:partOfProject     a owl:ObjectProperty ;
  rdfs:label "part of project" ;
  rdfs:range bsc:Project .

bsc:documents         a owl:ObjectProperty ;
  rdfs:label "documents" ;
  rdfs:domain bsc:Report .

bsc:occurredDuring    a owl:ObjectProperty ;
  rdfs:label "occurred during" ;
  rdfs:domain bsc:Session ; rdfs:range time:TemporalEntity .

# Datatype properties
bsc:participantCount  a owl:DatatypeProperty ;
  rdfs:label "participant count" ; rdfs:domain bsc:Session ; rdfs:range xsd:integer .

bsc:durationMinutes   a owl:DatatypeProperty ;
  rdfs:label "duration (minutes)" ; rdfs:domain bsc:Session ; rdfs:range xsd:decimal .

bsc:minLatencyDays    a owl:DatatypeProperty ;
  rdfs:label "minimum latency (days)" ; rdfs:domain bsc:Outcome ; rdfs:range xsd:decimal .

bsc:maxLatencyDays    a owl:DatatypeProperty ;
  rdfs:label "maximum latency (days)" ; rdfs:domain bsc:Outcome ; rdfs:range xsd:decimal .

bsc:notes             a owl:DatatypeProperty ;
  rdfs:label "notes" ; rdfs:range xsd:string .

# Safety and evidence metadata properties
bsc:invasiveness      a owl:DatatypeProperty ;
  rdfs:label "invasiveness" ;
  rdfs:comment "Classification of technique invasiveness: non-invasive, minimally-invasive, invasive" ;
  rdfs:domain bsc:Technique ;
  rdfs:range xsd:string .

bsc:evidenceLevel     a owl:DatatypeProperty ;
  rdfs:label "evidence level" ;
  rdfs:comment "Numeric scale 0-5: 0=anecdotal, 1-2=low, 2-3=moderate, 3-4=high, 4-5=systematic reviews/meta-analyses" ;
  rdfs:domain bsc:Technique ;
  rdfs:range xsd:decimal .

bsc:evidenceCurator   a owl:DatatypeProperty ;
  rdfs:label "evidence curator" ;
  rdfs:comment "Who assigned the evidence level (AI agent, specialist name, institution)" ;
  rdfs:domain bsc:Technique ;
  rdfs:range xsd:string .

bsc:evidenceCorpus    a owl:DatatypeProperty ;
  rdfs:label "evidence corpus" ;
  rdfs:comment "Description of literature reviewed or criteria used for evidence assessment" ;
  rdfs:domain bsc:Technique ;
  rdfs:range xsd:string .

bsc:evidenceReasoning a owl:DatatypeProperty ;
  rdfs:label "evidence reasoning" ;
  rdfs:comment "Explanation of why the evidence level was assigned" ;
  rdfs:domain bsc:Technique ;
  rdfs:range xsd:string .

bsc:contraindications a owl:DatatypeProperty ;
  rdfs:label "contraindications" ;
  rdfs:comment "Medical/safety warnings. Use 'SERIOUS:' prefix for life-threatening risks (e.g., seizures)" ;
  rdfs:domain bsc:Technique ;
  rdfs:range xsd:string .

bsc:usageCount        a owl:DatatypeProperty ;
  rdfs:label "usage count" ;
  rdfs:comment "Community usage statistics from Firestore telemetry aggregates" ;
  rdfs:domain bsc:Technique ;
  rdfs:range xsd:integer .

# One canonical project resource
id:BioSynCareLab a bsc:Project ;
  rdfs:label "BioSynCare Lab" ;
  dct:description "Open, client-side neurosensory stimulation lab and transparency hub." .

# Structure datasets and permutation sequences
bsc:StructureDataset    a owl:Class ; rdfs:label "Structure Dataset" .
bsc:PermutationSequence a owl:Class ; rdfs:label "Permutation Sequence" .
bsc:SequenceRow         a owl:Class ; rdfs:label "Sequence Row" .
bsc:PermutationFamily   a owl:Class ; rdfs:label "Permutation Family" .
bsc:SymmetricGroup      a owl:Class ; rdfs:label "Symmetric Group" .
bsc:SymmetryStructure   a owl:Class ; rdfs:label "Symmetry Structure" .

bsc:hasSequence       a owl:ObjectProperty ;
  rdfs:label "has sequence" ;
  rdfs:domain bsc:StructureDataset ;
  rdfs:range bsc:PermutationSequence .

bsc:hasRow            a owl:ObjectProperty ;
  rdfs:label "has row" ;
  rdfs:domain bsc:PermutationSequence ;
  rdfs:range bsc:SequenceRow .

bsc:hasPermutation    a owl:ObjectProperty ;
  rdfs:label "has permutation" ;
  rdfs:domain bsc:PermutationFamily ;
  rdfs:range bsc:PermutationSequence .

bsc:hasGenerator      a owl:ObjectProperty ;
  rdfs:label "has generator" ;
  rdfs:domain bsc:SymmetricGroup ;
  rdfs:range bsc:SequenceRow .

bsc:rotations         a owl:ObjectProperty ;
  rdfs:label "rotations" ;
  rdfs:domain bsc:SymmetryStructure ;
  rdfs:range bsc:PermutationSequence .

bsc:mirrors           a owl:ObjectProperty ;
  rdfs:label "mirrors" ;
  rdfs:domain bsc:SymmetryStructure ;
  rdfs:range bsc:PermutationSequence .

bsc:dihedral          a owl:ObjectProperty ;
  rdfs:label "dihedral" ;
  rdfs:domain bsc:SymmetryStructure ;
  rdfs:range bsc:PermutationSequence .

bsc:family            a owl:DatatypeProperty ;
  rdfs:label "family" ;
  rdfs:comment "Grouping key for permutation families or musical structures" ;
  rdfs:range xsd:string .

bsc:orderDimension    a owl:DatatypeProperty ;
  rdfs:label "order dimension" ;
  rdfs:domain bsc:PermutationSequence ;
  rdfs:range xsd:integer .

bsc:rowIndex          a owl:DatatypeProperty ;
  rdfs:label "row index" ;
  rdfs:domain bsc:SequenceRow ;
  rdfs:range xsd:integer .

bsc:rowValues         a owl:DatatypeProperty ;
  rdfs:label "row values" ;
  rdfs:comment "Ordered list of zero-based indices representing a permutation row" ;
  rdfs:domain bsc:SequenceRow ;
  rdfs:range xsd:integer .

bsc:stage             a owl:DatatypeProperty ;
  rdfs:label "stage" ;
  rdfs:comment "Number of elements in the symmetric group (e.g., bells)" ;
  rdfs:range xsd:integer .

bsc:cycleSignature    a owl:DatatypeProperty ;
  rdfs:label "cycle signature" ;
  rdfs:domain bsc:PermutationFamily ;
  rdfs:range xsd:string .

bsc:parity            a owl:DatatypeProperty ;
  rdfs:label "parity" ;
  rdfs:domain bsc:PermutationFamily ;
  rdfs:range xsd:string .

bsc:sign              a owl:DatatypeProperty ;
  rdfs:label "sign" ;
  rdfs:domain bsc:PermutationFamily ;
  rdfs:range xsd:integer .

bsc:adjacentOnly      a owl:DatatypeProperty ;
  rdfs:label "adjacent only" ;
  rdfs:domain bsc:PermutationFamily ;
  rdfs:range xsd:boolean .

bsc:loop              a owl:DatatypeProperty ;
  rdfs:label "loop" ;
  rdfs:domain bsc:PermutationSequence ;
  rdfs:range xsd:boolean .

# Tracks, parameters, and modulators
bsc:Track        a owl:Class ; rdfs:label "Track" .
bsc:AudioTrack   a owl:Class ; rdfs:label "Audio Track" ; rdfs:subClassOf bsc:Track .
bsc:VisualTrack  a owl:Class ; rdfs:label "Visual Track" ; rdfs:subClassOf bsc:Track .
bsc:HapticTrack  a owl:Class ; rdfs:label "Haptic Track" ; rdfs:subClassOf bsc:Track .
bsc:BinauralBeatTrack a owl:Class ;
  rdfs:label "Binaural Beat Track" ;
  rdfs:subClassOf bsc:AudioTrack ;
  owl:sameAs dbr:Binaural_beats .
bsc:SessionPreset a owl:Class ; rdfs:label "Session Preset" ; rdfs:subClassOf bsc:Session .
bsc:Parameter    a owl:Class ; rdfs:label "Parameter" .

bsc:hasParameter a owl:ObjectProperty ;
  rdfs:label "has parameter" ;
  rdfs:domain bsc:Track ;
  rdfs:range bsc:Parameter .

bsc:modulates    a owl:ObjectProperty ;
  rdfs:label "modulates" ;
  rdfs:domain bsc:Parameter ;
  rdfs:range bsc:Track .

bsc:modulator    a owl:ObjectProperty ;
  rdfs:label "modulator" ;
  rdfs:comment "Links a parameter to an oscillator or modulation source" ;
  rdfs:domain bsc:Parameter .

bsc:usesSequence a owl:ObjectProperty ;
  rdfs:label "uses sequence" ;
  rdfs:comment "Track or session references a permutation sequence for ordering" ;
  rdfs:range bsc:PermutationSequence .

bsc:hasTrack     a owl:ObjectProperty ;
  rdfs:label "has track" ;
  rdfs:domain bsc:Session ;
  rdfs:range bsc:Track .

bsc:parameterName a owl:DatatypeProperty ;
  rdfs:label "parameter name" ;
  rdfs:domain bsc:Parameter ;
  rdfs:range xsd:string .

bsc:baseValue     a owl:DatatypeProperty ;
  rdfs:label "base value" ;
  rdfs:domain bsc:Parameter ;
  rdfs:range xsd:decimal .

bsc:depth         a owl:DatatypeProperty ;
  rdfs:label "depth" ;
  rdfs:domain bsc:Parameter ;
  rdfs:range xsd:decimal .

bsc:carrierFrequency a owl:DatatypeProperty ;
  rdfs:label "carrier frequency" ;
  rdfs:domain bsc:AudioTrack ;
  rdfs:range xsd:decimal .

bsc:beatFrequency a owl:DatatypeProperty ;
  rdfs:label "beat frequency" ;
  rdfs:domain bsc:AudioTrack ;
  rdfs:range xsd:decimal .

bsc:startTime    a owl:DatatypeProperty ;
  rdfs:label "start time (seconds)" ;
  rdfs:domain bsc:Track ;
  rdfs:range xsd:decimal .

bsc:endTime      a owl:DatatypeProperty ;
  rdfs:label "end time (seconds)" ;
  rdfs:domain bsc:Track ;
  rdfs:range xsd:decimal .

bsc:fadeIn       a owl:DatatypeProperty ;
  rdfs:label "fade in (seconds)" ;
  rdfs:domain bsc:Track ;
  rdfs:range xsd:decimal .

bsc:fadeOut      a owl:DatatypeProperty ;
  rdfs:label "fade out (seconds)" ;
  rdfs:domain bsc:Track ;
  rdfs:range xsd:decimal .

# Parameter-specific scalar properties used throughout the BSCLab UI
bsc:gain a owl:DatatypeProperty ;
  rdfs:label "gain" ;
  rdfs:comment "Amplitude multiplier (0-1) applied to an audio parameter or track." ;
  rdfs:domain bsc:Parameter ;
  rdfs:range xsd:decimal .

bsc:pan a owl:DatatypeProperty ;
  rdfs:label "pan" ;
  rdfs:comment "Stereo balance between the left (-1) and right (+1) channels." ;
  rdfs:domain bsc:Parameter ;
  rdfs:range xsd:decimal .

bsc:frequency a owl:DatatypeProperty ;
  rdfs:label "frequency" ;
  rdfs:comment "Base oscillator frequency in Hertz." ;
  rdfs:domain bsc:Parameter ;
  rdfs:range xsd:decimal .

bsc:pulseRate a owl:DatatypeProperty ;
  rdfs:label "pulse rate" ;
  rdfs:comment "Rate at which an isochronic pulse repeats, in Hertz." ;
  rdfs:domain bsc:Parameter ;
  rdfs:range xsd:decimal .

bsc:dutyCycle a owl:DatatypeProperty ;
  rdfs:label "duty cycle" ;
  rdfs:comment "Percentage of each pulse period spent in the ON state (0-1)." ;
  rdfs:domain bsc:Parameter ;
  rdfs:range xsd:decimal .

bsc:opacity a owl:DatatypeProperty ;
  rdfs:label "opacity" ;
  rdfs:comment "Alpha/visibility level (0-1) for a visual layer." ;
  rdfs:domain bsc:Parameter ;
  rdfs:range xsd:decimal .

bsc:scaleFactor a owl:DatatypeProperty ;
  rdfs:label "scale" ;
  rdfs:comment "Normalized scale multiplier for a visual primitive." ;
  rdfs:domain bsc:Parameter ;
  rdfs:range xsd:decimal .

bsc:numberOfSides a owl:DatatypeProperty ;
  rdfs:label "sides" ;
  rdfs:comment "Number of polygon sides rendered in a geometric visual." ;
  rdfs:domain bsc:Parameter ;
  rdfs:range xsd:integer .

bsc:rotationSpeed a owl:DatatypeProperty ;
  rdfs:label "rotation speed" ;
  rdfs:comment "Angular velocity for rotating visuals (degrees per second)." ;
  rdfs:domain bsc:Parameter ;
  rdfs:range xsd:decimal .

bsc:hue a owl:DatatypeProperty ;
  rdfs:label "hue" ;
  rdfs:comment "Hue value in degrees (0-360) for HSL color controls." ;
  rdfs:domain bsc:Parameter ;
  rdfs:range xsd:decimal .

bsc:saturation a owl:DatatypeProperty ;
  rdfs:label "saturation" ;
  rdfs:comment "Saturation percentage (0-100) for HSL color controls." ;
  rdfs:domain bsc:Parameter ;
  rdfs:range xsd:decimal .

bsc:lightness a owl:DatatypeProperty ;
  rdfs:label "lightness" ;
  rdfs:comment "Lightness percentage (0-100) for HSL color controls." ;
  rdfs:domain bsc:Parameter ;
  rdfs:range xsd:decimal .

bsc:particleCount a owl:DatatypeProperty ;
  rdfs:label "particle count" ;
  rdfs:comment "Number of particles emitted in a particle system." ;
  rdfs:domain bsc:Parameter ;
  rdfs:range xsd:integer .

bsc:particleSpeed a owl:DatatypeProperty ;
  rdfs:label "particle speed" ;
  rdfs:comment "Normalized velocity for particles (0-10)." ;
  rdfs:domain bsc:Parameter ;
  rdfs:range xsd:decimal .

bsc:spread a owl:DatatypeProperty ;
  rdfs:label "spread" ;
  rdfs:comment "Dispersion factor (0-1) controlling how widely particles are emitted." ;
  rdfs:domain bsc:Parameter ;
  rdfs:range xsd:decimal .

bsc:intensity a owl:DatatypeProperty ;
  rdfs:label "intensity" ;
  rdfs:comment "Normalized output intensity for haptic cues." ;
  rdfs:domain bsc:Parameter ;
  rdfs:range xsd:decimal .

bsc:vibrationPattern a owl:DatatypeProperty ;
  rdfs:label "vibration pattern" ;
  rdfs:comment "Enumerated pattern identifier for vibrotactile cues (e.g., continuous vs. pulsed)." ;
  rdfs:domain bsc:Parameter ;
  rdfs:range xsd:string .

# Martigli oscillator and waveform terms
bsc:MartigliOscillation a owl:Class ; rdfs:label "Martigli Oscillation" .
bsc:Waveform            a owl:Class ; rdfs:label "Waveform" .
bsc:SineWave            a owl:Class ; rdfs:label "Sine Wave" ; rdfs:subClassOf bsc:Waveform .
bsc:TriangleWave        a owl:Class ; rdfs:label "Triangle Wave" ; rdfs:subClassOf bsc:Waveform .
bsc:SquareWave          a owl:Class ; rdfs:label "Square Wave" ; rdfs:subClassOf bsc:Waveform .
bsc:SawtoothWave        a owl:Class ; rdfs:label "Sawtooth Wave" ; rdfs:subClassOf bsc:Waveform .
bsc:BreathWave          a owl:Class ;
  rdfs:label "Breath Wave" ;
  rdfs:comment "Asymmetric curve designed to mirror natural respiratory flow (rounded inhale, relaxed exhale)." ;
  rdfs:subClassOf bsc:Waveform .
bsc:MartigliWave        a owl:Class ;
  rdfs:label "Martigli Wave" ;
  rdfs:comment "Low-frequency oscillator with a frequency trajectory, commonly used to guide breathing cadence." ;
  rdfs:subClassOf bsc:BreathWave .
bsc:SineWave owl:sameAs dbr:Sine_wave .

bsc:waveform            a owl:ObjectProperty ;
  rdfs:label "waveform" ;
  rdfs:domain bsc:MartigliOscillation ;
  rdfs:range bsc:Waveform .

bsc:startPeriod         a owl:DatatypeProperty ;
  rdfs:label "start period (seconds)" ;
  rdfs:domain bsc:MartigliOscillation ;
  rdfs:range xsd:decimal .

bsc:endPeriod           a owl:DatatypeProperty ;
  rdfs:label "end period (seconds)" ;
  rdfs:domain bsc:MartigliOscillation ;
  rdfs:range xsd:decimal .

bsc:transitionDuration  a owl:DatatypeProperty ;
  rdfs:label "transition duration (seconds)" ;
  rdfs:domain bsc:MartigliOscillation ;
  rdfs:range xsd:decimal .

bsc:inhaleRatio         a owl:DatatypeProperty ;
  rdfs:label "inhale ratio" ;
  rdfs:domain bsc:MartigliOscillation ;
  rdfs:range xsd:decimal .

bsc:amplitude           a owl:DatatypeProperty ;
  rdfs:label "amplitude" ;
  rdfs:domain bsc:MartigliOscillation ;
  rdfs:range xsd:decimal .

bsc:phaseOffset         a owl:DatatypeProperty ;
  rdfs:label "phase offset" ;
  rdfs:domain bsc:MartigliOscillation ;
  rdfs:range xsd:decimal .

bsc:startOffset         a owl:DatatypeProperty ;
  rdfs:label "start offset (seconds)" ;
  rdfs:domain bsc:MartigliOscillation ;
  rdfs:range xsd:decimal .

bsc:trajectory          a owl:DatatypeProperty ;
  rdfs:label "trajectory" ;
  rdfs:comment "List of period/duration pairs describing modulation trajectory" ;
  rdfs:domain bsc:MartigliOscillation ;
  rdfs:range xsd:string .
