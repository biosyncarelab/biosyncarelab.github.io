@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix bsc: <https://w3id.org/biosyncare/ontology#> .
@prefix skos: <http://www.w3.org/2004/02/skos/core#> .
@prefix dcterms: <http://purl.org/dc/terms/> .

# Music Structures Ontology Module
# Semantic descriptions of change-ringing patterns, Martigli sequences, and symmetry structures

# ===== Classes =====

bsc:MusicStructure a owl:Class ;
    rdfs:label "Music Structure" ;
    rdfs:comment "A mathematical sequence pattern for parameter modulation" ;
    rdfs:subClassOf bsc:DataStructure .

bsc:ChangeRingingPattern a owl:Class ;
    rdfs:label "Change Ringing Pattern" ;
    rdfs:comment "Permutation sequence from campanology, where adjacent elements swap positions" ;
    rdfs:subClassOf bsc:MusicStructure ;
    skos:altLabel "Plain Hunt Pattern", "Bell-Ringing Sequence" .

bsc:MartigliFollowingSequence a owl:Class ;
    rdfs:label "Martigli-Following Sequence" ;
    rdfs:comment "Parameter ordering synchronized with breathing phases (inhale/hold/exhale)" ;
    rdfs:subClassOf bsc:MusicStructure .

bsc:SymmetryLineSequence a owl:Class ;
    rdfs:label "Symmetry Line Sequence" ;
    rdfs:comment "Palindromic or rotationally symmetric parameter ordering" ;
    rdfs:subClassOf bsc:MusicStructure .

# ===== Properties =====

bsc:hasOrderDimension a owl:DatatypeProperty ;
    rdfs:label "has order dimension" ;
    rdfs:comment "Number of elements in the permutation (e.g., bells, tracks)" ;
    rdfs:domain bsc:MusicStructure ;
    rdfs:range xsd:positiveInteger .

bsc:hasRowCount a owl:DatatypeProperty ;
    rdfs:label "has row count" ;
    rdfs:comment "Total number of permutation rows in the sequence" ;
    rdfs:domain bsc:MusicStructure ;
    rdfs:range xsd:positiveInteger .

bsc:isLooping a owl:DatatypeProperty ;
    rdfs:label "is looping" ;
    rdfs:comment "Whether sequence returns to starting position" ;
    rdfs:domain bsc:MusicStructure ;
    rdfs:range xsd:boolean .

bsc:hasPhaseRatio a owl:DatatypeProperty ;
    rdfs:label "has phase ratio" ;
    rdfs:comment "Breathing phase emphasis ratio (e.g., '4-4-2' for inhale-hold-exhale)" ;
    rdfs:domain bsc:MartigliFollowingSequence ;
    rdfs:range xsd:string .

bsc:hasSymmetryType a owl:DatatypeProperty ;
    rdfs:label "has symmetry type" ;
    rdfs:comment "Type of symmetry: mirror (palindromic) or rotation (cyclic)" ;
    rdfs:domain bsc:SymmetryLineSequence ;
    rdfs:range xsd:string .

bsc:modulatesParameter a owl:ObjectProperty ;
    rdfs:label "modulates parameter" ;
    rdfs:comment "Track parameter that this sequence can modulate" ;
    rdfs:domain bsc:MusicStructure ;
    rdfs:range bsc:TrackParameter .

# ===== Usage Example Classes =====

bsc:UsageExample a owl:Class ;
    rdfs:label "Usage Example" ;
    rdfs:comment "Concrete application scenario demonstrating how to use a music structure" ;
    skos:definition "Detailed use case with scenario, breathing pattern, track mapping, and expected outcome" .

bsc:AudioUsageExample a owl:Class ;
    rdfs:label "Audio Usage Example" ;
    rdfs:comment "Usage example for audio/sound applications" ;
    rdfs:subClassOf bsc:UsageExample .

bsc:VisualUsageExample a owl:Class ;
    rdfs:label "Visual Usage Example" ;
    rdfs:comment "Usage example for visual/video applications" ;
    rdfs:subClassOf bsc:UsageExample .

bsc:MixedUsageExample a owl:Class ;
    rdfs:label "Mixed Usage Example" ;
    rdfs:comment "Usage example combining audio and visual modalities" ;
    rdfs:subClassOf bsc:UsageExample .

# ===== Usage Example Properties =====

bsc:hasUsageExample a owl:ObjectProperty ;
    rdfs:label "has usage example" ;
    rdfs:comment "Links a music structure to a concrete usage example" ;
    rdfs:domain bsc:MusicStructure ;
    rdfs:range bsc:UsageExample .

bsc:hasScenario a owl:DatatypeProperty ;
    rdfs:label "has scenario" ;
    rdfs:comment "Description of the application scenario" ;
    rdfs:domain bsc:UsageExample ;
    rdfs:range xsd:string .

bsc:hasBreathingPattern a owl:DatatypeProperty ;
    rdfs:label "has breathing pattern" ;
    rdfs:comment "Timing and synchronization approach for the example" ;
    rdfs:domain bsc:UsageExample ;
    rdfs:range xsd:string .

bsc:hasTrackMapping a owl:DatatypeProperty ;
    rdfs:label "has track mapping" ;
    rdfs:comment "Detailed parameter routing and mapping specification" ;
    rdfs:domain bsc:UsageExample ;
    rdfs:range xsd:string .

bsc:hasExpectedOutcome a owl:DatatypeProperty ;
    rdfs:label "has expected outcome" ;
    rdfs:comment "Expected results and applications of the example" ;
    rdfs:domain bsc:UsageExample ;
    rdfs:range xsd:string .

bsc:appliesToDomain a owl:ObjectProperty ;
    rdfs:label "applies to domain" ;
    rdfs:comment "The application domain (audio, visual, therapeutic, etc.)" ;
    rdfs:domain bsc:UsageExample .

# ===== Individuals: Change Ringing =====

bsc:PlainHunt6 a bsc:ChangeRingingPattern ;
    rdfs:label "Plain Hunt on 6" ;
    dcterms:identifier "plain-hunt-6" ;
    rdfs:comment "Six-element plain hunt pattern, also known as 'Plain Bob Minor' in campanology" ;
    skos:definition """Starting from rounds (1,2,3,4,5,6), adjacent pairs swap alternately
    through 12 changes before returning. Common in traditional bell ringing.""" ;
    bsc:hasOrderDimension 6 ;
    bsc:hasRowCount 13 ;
    bsc:isLooping true ;
    dcterms:source "Python music package: PlainChanges class" ;
    skos:example "Use for modulating up to 6 simultaneous track parameters in coordinated cyclical pattern" .

bsc:PlainHunt4 a bsc:ChangeRingingPattern ;
    rdfs:label "Plain Hunt on 4" ;
    dcterms:identifier "plain-hunt-4" ;
    rdfs:comment "Four-element plain hunt pattern, known as 'Plain Bob Minimus'" ;
    skos:definition """Cycles through 8 distinct permutations before returning to rounds.
    Ideal for modulating quartet of parameters (e.g., four audio tracks or two stereo pairs).""" ;
    bsc:hasOrderDimension 4 ;
    bsc:hasRowCount 9 ;
    bsc:isLooping true ;
    dcterms:source "Python music package: PlainChanges class" ;
    skos:example "Faster cycling suitable for shorter sessions due to smaller dimension" .

# Plain Changes (Comprehensive) - from music-structures-comprehensive.json

bsc:PlainChanges3 a bsc:ChangeRingingPattern ;
    rdfs:label "Plain Changes on 3 Bells" ;
    dcterms:identifier "plain_changes_3" ;
    rdfs:comment "Basic 3-bell peal with 1 hunt bell" ;
    skos:definition """The simplest change-ringing pattern with minimal complexity.
    Three elements cycle through 6 permutations, making it ideal for learning
    change-ringing principles or creating subtle variations in minimal compositions.""" ;
    bsc:hasOrderDimension 3 ;
    bsc:hasRowCount 6 ;
    bsc:isLooping true ;
    dcterms:source "Python music package: PlainChanges class" ;
    skos:scopeNote "Perfect for beginners exploring change-ringing or subtle modulation" .

bsc:PlainChanges4 a bsc:ChangeRingingPattern ;
    rdfs:label "Plain Changes on 4 Bells" ;
    dcterms:identifier "plain_changes_4" ;
    rdfs:comment "Classic 4-bell peal (Plain Bob Minimus)" ;
    skos:definition """Traditional four-bell change-ringing with 24 distinct permutations.
    The 24-row cycle provides enough length for narrative development while remaining
    comprehensible. Fundamental pattern in campanology.""" ;
    bsc:hasOrderDimension 4 ;
    bsc:hasRowCount 24 ;
    bsc:isLooping true ;
    dcterms:source "Python music package: PlainChanges class" ;
    skos:altLabel "Plain Bob Minimus" ;
    skos:scopeNote "Medium cycle length creates balance between variety and coherence" .

bsc:PlainChanges5 a bsc:ChangeRingingPattern ;
    rdfs:label "Plain Changes on 5 Bells" ;
    dcterms:identifier "plain_changes_5" ;
    rdfs:comment "5-bell peal with 2 hunt bells (Plain Bob Doubles)" ;
    skos:definition """Complex change-ringing with 120 permutations and two hunting bells.
    The extended cycle creates opportunities for long-form meditation, sound baths,
    and comprehensive parameter exploration. Two hunt bells create intricate weaving patterns.""" ;
    bsc:hasOrderDimension 5 ;
    bsc:hasRowCount 120 ;
    bsc:isLooping true ;
    dcterms:source "Python music package: PlainChanges class" ;
    skos:altLabel "Plain Bob Doubles" ;
    skos:scopeNote "Extended cycle suitable for deep meditation and lengthy installations" .

bsc:PlainChanges6 a bsc:ChangeRingingPattern ;
    rdfs:label "Plain Changes on 6 Bells" ;
    dcterms:identifier "plain_changes_6" ;
    rdfs:comment "6-bell peal with 2 hunt bells (Plain Bob Minor)" ;
    skos:definition """Full-featured six-bell change-ringing with 120 permutations.
    Classic campanological pattern that systematically explores all amplitude relationships
    between six elements. Two hunt bells ensure comprehensive parameter space coverage.""" ;
    bsc:hasOrderDimension 6 ;
    bsc:hasRowCount 120 ;
    bsc:isLooping true ;
    dcterms:source "Python music package: PlainChanges class" ;
    skos:altLabel "Plain Bob Minor" ;
    skos:scopeNote "Epic journey suitable for concert performances and installation art" .

# ===== Individuals: Martigli-Following =====

bsc:MartigliPhase6_4_4_2 a bsc:MartigliFollowingSequence ;
    rdfs:label "Martigli Phase 6-4-4-2" ;
    dcterms:identifier "phase-6-4-4-2" ;
    rdfs:comment "Six-element sequence with 4-4-2 breathing phase emphasis" ;
    skos:definition """4 steps inhale, 4 hold, 2 exhale. Creates relaxed breathing pattern
    with extended inhale and hold phases. Elements rotate with emphasis matching breath intensity.""" ;
    bsc:hasOrderDimension 6 ;
    bsc:hasRowCount 8 ;
    bsc:isLooping true ;
    bsc:hasPhaseRatio "4-4-2" ;
    skos:scopeNote "Ideal for calming, meditative sessions" ;
    dcterms:relation bsc:MartigliOscillator .

bsc:MartigliPhase4_3_3_2 a bsc:MartigliFollowingSequence ;
    rdfs:label "Martigli Phase 4-3-3-2" ;
    dcterms:identifier "phase-4-3-3-2" ;
    rdfs:comment "Four-element sequence with 3-3-2 breathing phase emphasis" ;
    skos:definition """3 steps inhale, 3 hold, 2 exhale. Balanced breathing ratio
    suitable for focus and concentration. Shorter exhale promotes alertness.""" ;
    bsc:hasOrderDimension 4 ;
    bsc:hasRowCount 6 ;
    bsc:isLooping true ;
    bsc:hasPhaseRatio "3-3-2" ;
    skos:scopeNote "Works well with four-track configurations or paired stereo channels" ;
    dcterms:relation bsc:MartigliOscillator .

# ===== Individuals: Symmetry Lines =====

bsc:MirrorSweep6 a bsc:SymmetryLineSequence ;
    rdfs:label "Mirror Sweep on 6" ;
    dcterms:identifier "mirror-sweep-6" ;
    rdfs:comment "Palindromic six-element pattern from dihedral group D6" ;
    skos:definition """Sweeps from starting position through increasingly inverted states,
    reaching full reversal (6,5,4,3,2,1) at midpoint, then mirrors back. Creates smooth
    crescendo-decrescendo parameter envelopes.""" ;
    bsc:hasOrderDimension 6 ;
    bsc:hasRowCount 11 ;
    bsc:isLooping true ;
    bsc:hasSymmetryType "mirror" ;
    dcterms:relation <http://en.wikipedia.org/wiki/Dihedral_group> ;
    skos:example "Use for creating rise-and-fall envelope modulation on multiple parameters" .

bsc:RotatingCrossfade6 a bsc:SymmetryLineSequence ;
    rdfs:label "Rotating Crossfade on 6" ;
    dcterms:identifier "rotating-crossfade-6" ;
    rdfs:comment "Pure cyclic rotation from cyclic group C6" ;
    skos:definition """Each step shifts all elements one position clockwise.
    Each element visits every position exactly once before returning.
    Perfect for round-robin parameter distribution.""" ;
    bsc:hasOrderDimension 6 ;
    bsc:hasRowCount 7 ;
    bsc:isLooping true ;
    bsc:hasSymmetryType "rotation" ;
    dcterms:relation <http://en.wikipedia.org/wiki/Cyclic_group> ;
    skos:example "Ideal for circular panning effects or distributing emphasis evenly across tracks" .

# ===== Connections to BioSynCare concepts =====

bsc:ChangeRingingPattern rdfs:seeAlso bsc:ParameterAutomation ;
    skos:related bsc:AudioTrack, bsc:TrackParameter .

bsc:MartigliFollowingSequence rdfs:seeAlso bsc:MartigliOscillator, bsc:BreathingEntrainment ;
    skos:related bsc:RespiratoryPhase, bsc:AutonomicNervousSystem .

bsc:SymmetryLineSequence rdfs:seeAlso bsc:ParameterSweep, bsc:CrossfadeModulation ;
    skos:related bsc:DihedralGroup, bsc:CyclicGroup .

# ===== Annotations =====

bsc:MusicStructure
    dcterms:created "2025-11-20"^^xsd:date ;
    dcterms:creator "Python Structures Pod" ;
    dcterms:source "Python music package (first-party)" ;
    rdfs:seeAlso <https://github.com/ttm/music> .

# ===== Usage Examples =====
# Concrete application scenarios for each music structure
# These examples guide AI pods and users in applying structures effectively

## Plain Changes on 3 Bells - Usage Examples

bsc:PlainChanges3_Example1 a bsc:AudioUsageExample ;
    rdfs:label "Minimalist three-track ambient composition" ;
    bsc:hasScenario "Minimalist three-track ambient composition" ;
    bsc:hasBreathingPattern "Short cycle (6-12 seconds), suitable for rapid breathing exercises or micro-variations" ;
    bsc:hasTrackMapping """3 drone layers with different timbres (sub-bass 60Hz, mid-range 200Hz, harmonic overtone 800Hz). Each row determines amplitude relationships. The hunt bell (element 0) migrates through all positions, creating a 'spotlight' effect where each frequency takes turns dominating the mix. Position 0 = -18dB, position 1 = -6dB, position 2 = 0dB (loudest).""" ;
    bsc:hasExpectedOutcome """Gentle timbral breathing with clear mathematical structure. The 6-row cycle is short enough to be perceived as a single phrase, yet varied enough to maintain interest. Perfect for beginners exploring change-ringing principles or creating subtle modulation in minimal music. The simplicity reveals the beauty of adjacent swaps without overwhelming complexity.""" .

bsc:PlainChanges3_Example2 a bsc:VisualUsageExample ;
    rdfs:label "RGB color cycling for LED art installation" ;
    bsc:hasScenario "RGB color cycling for LED art installation" ;
    bsc:hasBreathingPattern "Visual tempo (2-6 seconds per cycle for smooth perception)" ;
    bsc:hasTrackMapping """3 color channels (Red, Green, Blue). Row position determines intensity for each channel (0 = 0%, 1 = 50%, 2 = 100%). The hunting pattern ensures each color visits all intensity levels. Creates 6 distinct color states: RGB → GRB → GBR → BGR → BRG → RBG, cycling through all permutations of primary colors with smooth intensity modulation.""" ;
    bsc:hasExpectedOutcome """Hypnotic color transformation with mathematical elegance. The pattern is simple enough to loop seamlessly yet complex enough to avoid feeling static. Ideal for ambient lighting in meditation spaces, art galleries, or as visual accompaniment to music. The 6-state cycle provides just enough variation without overwhelming viewers.""" .

bsc:PlainChanges3_Example3 a bsc:AudioUsageExample ;
    rdfs:label "Three-voice rhythmic displacement in percussion" ;
    bsc:hasScenario "Three-voice rhythmic displacement in percussion" ;
    bsc:hasBreathingPattern "Rhythmic tempo-locked (change every 1-2 bars in 4/4 time)" ;
    bsc:hasTrackMapping """3 percussion elements: hi-hat, snare, kick. Row position determines accent strength (0 = ghost note, 1 = medium, 2 = full accent). The hunt pattern creates evolving polyrhythmic emphasis. As the order changes, different drums take the lead, creating a woven texture where no single element dominates permanently.""" ;
    bsc:hasExpectedOutcome """Subtle rhythmic complexity without chaos. The 6-change cycle creates a complete rhythmic phrase that can repeat or serve as foundation for longer compositions. Perfect for minimal techno, ambient percussion, or experimental rhythm studies. Musicians can anticipate pattern evolution while listeners enjoy organic variation.""" .

bsc:PlainChanges3 bsc:hasUsageExample bsc:PlainChanges3_Example1, bsc:PlainChanges3_Example2, bsc:PlainChanges3_Example3 .
